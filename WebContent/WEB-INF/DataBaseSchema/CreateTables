create table cliente(
  CNPJCPF varchar (15) not null,
  name varchar (90) not null,
  type varchar (1) not null,
  primary key (CNPJCPF)
);

create table project(
  id int not null,
  name varchar (90) not null,
  CNPJCPF varchar (15) not null,
  primary key (id),
  unique key (CNPJCPF,nome),
  foreign key (CNPJCPF) references cliente(CNPJCPF)
);

//TRADUZIR PARA INGLES OS PARAMETROS
create table fase(
  number int not null,
  observation varchar(900),
  endDate date not null,
  EstimativaHoras int not null,
  EstimativaDias int not null,
  DataPrevisaoComMargem date not null,
  PessoasPorFase int not null,
  HorasPorDia int not null,
  Id int not null,
  ProjetoId int not null,
  primary key (Id,ProjetoId),
  unique key Numero (Numero,ProjetoId),
  foreign key (ProjetoId) references project(Id)
);

create table funcionalidade(
  FuncionalidadeTag varchar(90) not null,
  primary key (FuncionalidadeTag)
);

create table plataforma(
  Nome varchar (90) not null,
  primary key (Nome)
);

create table funcionario(
  Nome varchar(90) not null,
  CargaHoraria int not null,
  primary key(nome)
)

create table tarefa(
  Nome varchar(90) not null,
  FaseId int not null,
  HorasReal int,
  DataTerminoReal date,
  Plataforma varchar(90) not null,
  FuncionalidadeTag varchar(90) not null,
  DataInicio date not null,
  HorasPrevisao int not null,
  DataFimPrevista date,
  Status int,
  FuncionarioResponsavel varchar (90) not null ,
  Id int not null,
  primary key (Id),
  unique key Nome(Nome,FaseId,Plataforma),
  foreign key (FaseId) references fase(Id),
  foreign key (Plataforma) references plataforma(Nome),
  foreign key (FuncionalidadeTag) references funcionalidade(FuncionalidadeTag),
  foreign key (FuncionarioResponsavel) references funcionario(Nome)
);

create table funcionario_trabalha_tarefa(
  FuncId varchar(90) not null,
  TarefaId int not null,
  Horas int not null,
  primary key (FuncId,TarefaId),
  foreign key (FuncId) references funcionario(Nome),
  foreign key (TarefaId) references tarefa(Id)
);

create table funcionario_trabalha_plataforma(
  FuncId varchar(90) not null,
  PlataformaNome varchar (90) not null,
  primary key (FuncId,PlataformaNome),
  foreign key (FuncId) references funcionario(Nome),
  foreign key (PlataformaNome) references plataforma(Nome)
);

create table dias_semana(
  DiaDaSemana varchar (20) not null,
  primary key (DiaDaSemana)
);

create table funcionario_trabalha_dias(
  FuncId varchar(90) not null,
  DiaDaSemana varchar (20) not null,
  primary key (FuncId,DiaDaSemana),
  foreign key (FuncId) references funcionario(Nome),
  foreign key (DiaDaSemana) references dias_semana(DiaDaSemana)
);